(function(){"use strict";var t={6428:function(t,e,s){var r=s(144),a=s(998),n=s(3059),o=function(){var t=this,e=t._self._c;return e(a.Z,[e(n.Z,[e("router-view")],1)],1)},i=[],l={name:"App",components:{},data:()=>({name:"Emoji Music Player"}),created(){this.$store.dispatch("continueSession"),this.$store.dispatch("getUsers")}},u=l,c=s(1001),d=(0,c.Z)(u,o,i,!1,null,null,null),h=d.exports,m=s(8864),p=s(2638);r.ZP.use(m.Z);const f={theme:{dark:!0,themes:{dark:{primary:p.Z.shades.white,secondary:p.Z.blue}}}};var g=new m.Z(f),v=s(8345),b=s(5716),y=s(9582),w=s(4886),_=s(266),k=s(1713),Z=s(3687),x=s(7953),S=function(){var t=this,e=t._self._c;return e("div",[e(b.Z,{attrs:{app:"",color:"black"}},[e(x.qW,[t._v("Home")]),e(Z.Z),e("img",{staticClass:"rounded-circle cursor-pointer",staticStyle:{height:"40px",width:"40px","object-fit":"cover"},attrs:{src:`https://avatars.dicebear.com/api/initials/${t.$store.getters.currentUser.fullName}.svg`,alt:t.$store.getters.currentUser.fullName},on:{click:function(e){return t.$router.push("/profile")}}})],1),e("BaseLayout",[e("h1",[t._v("Hello "+t._s(t.$store.getters.currentUser.fullName))]),e("div",[e("h3",{staticClass:"mb-3"},[t._v("Current Mood")]),e(k.Z,t._l(t.emotions,(function(s){return e(_.Z,{key:s.title,attrs:{cols:"6"},on:{click:function(e){return t.select(s.title)}}},[e(y.Z,{staticClass:"cursor-pointer",attrs:{rounded:""}},[e(w.EB,{staticClass:"emoji"},[t._v(t._s(s.emoji))]),e(w.ZB,[e("h4",{staticClass:"text-uppercase"},[t._v(t._s(s.title))])])],1)],1)})),1)],1)])],1)},j=[],C=s(2118),$=function(){var t=this,e=t._self._c;return e(C.Z,{staticStyle:{height:"100%"}},[e(k.Z,{staticStyle:{height:"100%"},attrs:{justify:"center"}},[e(_.Z,{staticStyle:{height:"100%"},attrs:{cols:"11",sm:"4"}},[e("div",{staticClass:"d-flex flex-column",class:[null!=t.justify?"justify-"+t.justify:"justify-space-around",t.alignCenter?"align-center":""],staticStyle:{height:"100%"}},[t._t("default")],2)])],1)],1)},L=[],U={name:"BaseLayout",props:["justify","alignCenter"]},A=U,B=(0,c.Z)(A,$,L,!1,null,null,null),O=B.exports,P={name:"HomeView",components:{BaseLayout:O},data:()=>({emotions:[{emoji:"ðŸ˜",title:"Happy"},{emoji:"ðŸ˜ž",title:"Sad"},{emoji:"â™¥",title:"Romantic"},{emoji:"ðŸ˜¡",title:"Angry"},{emoji:"ðŸ’”",title:"Broken"},{emoji:"âš¡",title:"Motivated"}]}),methods:{select(t){this.$router.push(`/${t.toLowerCase()}`)}}},I=P,T=(0,c.Z)(I,S,j,!1,null,null,null),N=T.exports,E=s(5146),M=s(4324),F=s(3305),q=function(){var t=this,e=t._self._c;return e("div",[e(b.Z,{attrs:{app:"",color:"black"}},[e(E.Z,{attrs:{icon:""},on:{click:function(e){return t.$router.back()}}},[e(M.Z,[t._v("mdi-arrow-left")])],1),e(x.qW,{staticClass:"text-uppercase font-weight-bold"},[t._v(t._s(t.emotion))])],1),e(C.Z,{staticStyle:{height:"100%"}},[e("div",{staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[t.loaded?t._e():e(F.Z,{attrs:{indeterminate:"",color:"white"}})],1),e("iframe",{ref:"iframe",staticStyle:{"border-radius":"12px"},attrs:{src:`https://open.spotify.com/embed/playlist/${this.playListId}?utm_source=generator&theme=0`,height:"100%",width:"100%",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"},on:{load:function(e){t.loaded=!0}}})])],1)},D=[];s(6699);const H={happy:"37i9dQZF1DX9XIFQuFvzM4",angry:"37i9dQZF1DX5gQonLbZD9s",motivated:"37i9dQZF1DX0E9XMGembJo",sad:"37i9dQZF1DX33haVNk7fCy",romantic:"2l4kI8wDwl5F2IT2kjgV7s",broken:"4YOfhHpjPB0tq29NPpDY3F"};var V={name:"MusicPlayer",computed:{emotion(){return this.$route.params.emotion},playListId(){return H[this.emotion]}},methods:{async loadEmbedded(){const t=await fetch(`https://open.spotify.com/embed/playlist/${this.playListId}?utm_source=generator&theme=0`,{method:"GET",mode:"no-cors",headers:{Accept:"text/html"}}),e=await t.blob();console.log(e),this.responseUrl=URL.createObjectURL(e)}},data(){return{responseUrl:null,loaded:!1}},mounted(){},beforeRouteEnter(t,e,s){Object.keys(H).includes(t.params.emotion)?s():s(!1)}},R=V,Q=(0,c.Z)(R,q,D,!1,null,null,null),G=Q.exports,X=function(){var t=this,e=t._self._c;return e("BaseLayout",[e("img",{staticStyle:{height:"25%","object-fit":"cover"},attrs:{src:s(7022),alt:"You are what you listen to"}}),e("h1",[t._v("LET THE"),e("br"),t._v("MUSIC SPARK")]),e("h2",[t._v("YOU CALL IT MUSIC"),e("br"),t._v("I CALL IT THERAPIST")]),e("div",[e(E.Z,{staticClass:"mb-2",attrs:{rounded:"",color:"secondary",block:""},on:{click:function(e){return t.$router.push("/login")}}},[t._v("Sign in with Email")]),e("p",{staticClass:"grey--text text-subtitle-2 text-center"},[t._v("By Continuing you agree to the Terms and Conditions")])],1),e("p",{staticClass:"text-center"},[t._v("Doesn't have an account? "),e("router-link",{staticClass:"secondary--text",attrs:{to:"/signup"}},[t._v("Sign up ")])],1)])},J=[],Y={name:"UnAuthenticated",components:{BaseLayout:O}},z=Y,K=(0,c.Z)(z,X,J,!1,null,null,null),W=K.exports,tt=s(5125),et=s(9258),st=s(7833),rt=function(){var t=this,e=t._self._c;return e("BaseLayout",[e("img",{staticStyle:{height:"25%","object-fit":"cover"},attrs:{src:s(7022),alt:"You are what you listen to"}}),e(tt.Z,{ref:"form",attrs:{"lazy-validation":""},on:{submit:t.submit},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("h1",{staticClass:"text-center mb-3"},[t._v(t._s(t.isLogin?"LOGIN":"SIGN UP"))]),e(st.Z,{attrs:{label:"Email",outlined:"",rounded:"",rules:[t.rules.required,t.rules.emailValid]},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isLogin?t._e():e(st.Z,{attrs:{label:"Full name",outlined:"",rounded:"",rules:[t.rules.required]},model:{value:t.user.fullName,callback:function(e){t.$set(t.user,"fullName",e)},expression:"user.fullName"}}),e(st.Z,{attrs:{label:"Password",outlined:"",rounded:"",type:"password",rules:[t.rules.required,t.rules.min8characters]},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),e(E.Z,{staticClass:"mb-2",attrs:{rounded:"",color:"secondary",large:"",block:"",loading:t.loading},on:{click:t.submit}},[t._v("Submit")])],1),t.isLogin?e("p",{staticClass:"text-center"},[t._v("Doesn't have an account? "),e("router-link",{staticClass:"secondary--text",attrs:{to:"/signup"}},[t._v("Sign up ")])],1):e("p",{staticClass:"text-center"},[t._v("Already have an account? "),e("router-link",{staticClass:"secondary--text",attrs:{to:"/login"}},[t._v("Log in ")])],1),e(et.Z,{attrs:{color:t.snackbar.color},scopedSlots:t._u([t.snackbar.signin?{key:"action",fn:function({attrs:s}){return[e(E.Z,t._b({attrs:{text:""},on:{click:()=>{t.snackbar.show=!1,t.$router.push("/login")}}},"v-btn",s,!1),[t._v(" Sign In ")])]}}:null],null,!0),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.text)+" ")])],1)},at=[],nt={name:"AuthView",components:{BaseLayout:O},data(){return{valid:!0,user:{email:null,password:null,fullName:null},snackbar:{show:!1,text:"",color:"red",signin:!1},loading:!1,rules:{required:t=>!!t||"This field is required.",emailValid:t=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||"Enter a valid email address",min8characters:t=>t?.length>=8||"Password must contain atleast 8 characters."}}},computed:{isLogin(){return"login"==this.$route.name}},methods:{showSnackBar(t,e,s=!1){this.snackbar.text=t,this.snackbar.color=e,this.snackbar.signin=s,this.snackbar.show=!0},submit(){if(this.$refs.form.validate())if(this.loading=!0,this.isLogin){const t=this.$store.state.users;if(!t.map((t=>t.email)).includes(this.user.email))return this.showSnackBar("An account with this email id does'nt exist","red"),void(this.loading=!1);const e=t.find((t=>t.email==this.user.email));if(e.password!=this.user.password)return this.showSnackBar("Invalid password","red"),void(this.loading=!1);this.$store.dispatch("login",e),this.showSnackBar("Logged in successfully","success"),this.$router.push("/").then((()=>{this.loading=!1}))}else this.$store.dispatch("addUser",{...this.user}).then((t=>{this.loading=!1,t.success?this.showSnackBar("Account created successfully","success",!0):this.showSnackBar(t.message,"red")}))}}},ot=nt,it=(0,c.Z)(ot,rt,at,!1,null,null,null),lt=it.exports,ut=function(){var t=this,e=t._self._c;return e("div",[e(b.Z,{attrs:{app:"",color:"black"}},[e(E.Z,{attrs:{icon:""},on:{click:function(e){return t.$router.back()}}},[e(M.Z,[t._v("mdi-arrow-left")])],1)],1),e("BaseLayout",{attrs:{"align-center":!0}},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"rounded-circle",staticStyle:{height:"80px",width:"80px","object-fit":"cover"},attrs:{src:`https://avatars.dicebear.com/api/initials/${t.currentUser.fullName}.svg`,alt:t.currentUser.fullName}}),e("h1",[t._v(t._s(t.currentUser.fullName))]),e("p",[t._v(t._s(t.currentUser.email))])]),e(E.Z,{attrs:{outlined:"",rounded:""},on:{click:function(e){return t.$store.dispatch("logout")}}},[t._v("Logout")])],1)],1)},ct=[],dt=s(629),ht={name:"ProfileView",computed:{...(0,dt.Se)(["currentUser"])},components:{BaseLayout:O}},mt=ht,pt=(0,c.Z)(mt,ut,ct,!1,null,null,null),ft=pt.exports;s(2801);r.ZP.use(dt.ZP);const gt="https://whatsapp-assistant-aef12-default-rtdb.firebaseio.com/music-player",vt="iq7HGRzb0aBmV0HSFK5ur4Om2k84LVoM2nsQMRJg";var bt=new dt.ZP.Store({state:{currentUser:null,users:[]},getters:{isAuthenticated({currentUser:t}){return null!=t},currentUser({currentUser:t}){return t}},mutations:{},actions:{async getUsers(t){const e=await fetch(gt+`/users.json?auth=${vt}`,{method:"GET"}),s=await e.json()||[];return t.state.users=s,s},async addUser(t,e){const s=await t.dispatch("getUsers"),r=s.map((t=>t.email));if(r.includes(e.email))return{success:!1,message:"An account associated with this email already exists."};s.push(e);const a=await fetch(gt+`/users.json?auth=${vt}`,{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}),n=await a.json();return{success:!0,data:n}},continueSession(t){const e=localStorage.getItem("user");null!=e&&(t.state.currentUser=JSON.parse(atob(e)),_t.replace("/home"))},login(t,e){t.state.currentUser=e,localStorage.setItem("user",btoa(JSON.stringify(e)))},logout(t){t.state.currentUser=null,localStorage.removeItem("user"),_t.push("/")}},modules:{}});r.ZP.use(v.Z);const yt=[{path:"/",name:"index",component:W,meta:{allowAuth:!1}},{path:"/login",name:"login",component:lt,meta:{allowAuth:!1}},{path:"/signup",name:"signup",component:lt,meta:{allowAuth:!1}},{path:"/home",name:"home",component:N,meta:{allowAuth:!0}},{path:"/profile",name:"profile",component:ft,meta:{allowAuth:!0}},{path:"/:emotion",name:"musicplayer",component:G,meta:{allowAuth:!0}}],wt=new v.Z({routes:yt});wt.beforeEach(((t,e,s)=>{const r=bt.getters.isAuthenticated;if(t.meta?.allowAuth){if(!r)return void s("/")}else if(0==t.meta?.allowAuth&&r)return void s("/home");s()}));var _t=wt;r.ZP.config.productionTip=!1,new r.ZP({vuetify:g,router:_t,store:bt,render:t=>t(h)}).$mount("#app")},7022:function(t,e,s){t.exports=s.p+"img/login-bg.a8b2fbeb.jpeg"}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,n){if(!r){var o=1/0;for(c=0;c<t.length;c++){r=t[c][0],a=t[c][1],n=t[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(i=!1,n<o&&(o=n));if(i){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[r,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/emoji-music-player/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,o=r[0],i=r[1],l=r[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var c=l(s)}for(e&&e(r);u<o.length;u++)n=o[u],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},r=self["webpackChunkemoji_music_player"]=self["webpackChunkemoji_music_player"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(6428)}));r=s.O(r)})();
//# sourceMappingURL=app.8a1afe0a.js.map